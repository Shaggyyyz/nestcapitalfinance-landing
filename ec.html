<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Equity Calculator - Nest Capital Finance</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@300;700&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@fonts/remixicon.css" rel="stylesheet" />
    <style>
        body{font-family:'Fira Sans',Arial,sans-serif;font-weight:300;background:#181820;color:#fff;margin:0;padding:0;overflow-x:hidden}
        header{position:fixed;top:0;left:0;right:0;height:70px;display:flex;justify-content:space-between;align-items:center;padding:0 2rem;background:transparent;z-index:1000;box-sizing:border-box;transition:background-color .3s,box-shadow .3s}
        header.scrolled{background-color:#181820;box-shadow:0 2px 12px rgba(0,0,0,.75)}
        header img{height:60px;filter:brightness(0) invert(1);z-index:1101}
        nav{display:flex;gap:2rem;align-items:center}
        nav a{color:#fff;font-weight:600;font-size:1.05rem;text-decoration:none;padding:.5rem 1rem;border-radius:6px;transition:color .2s,background .2s;letter-spacing:.02em}
        nav a:hover{color:#2563eb;background:#22232c}
        .menu-toggle{display:none;flex-direction:column;width:30px;height:22px;cursor:pointer;justify-content:space-between;z-index:1102}
        .menu-toggle span{display:block;height:4px;background-color:#fff;border-radius:2px;transition:transform .3s,opacity .3s}
        .menu-toggle.open span:nth-child(1){transform:translateY(9px) rotate(45deg)}
        .menu-toggle.open span:nth-child(2){opacity:0}
        .menu-toggle.open span:nth-child(3){transform:translateY(-9px) rotate(-45deg)}
        @media(max-width:768px){
            header{padding:0 1rem}
            nav{display:none;position:fixed;top:70px;right:0;width:90vw;height:calc(100% - 70px);background:#181820;flex-direction:column;padding:1.2rem 1rem;gap:1rem;box-shadow:-4px 0 18px rgba(0,0,0,.7);transform:translateX(100%);transition:transform .3s cubic-bezier(.68,-.55,.27,1.55);align-items:flex-start}
            nav.open{display:flex;transform:translateX(0)}
            nav a{width:100%;padding:.7rem .8rem;font-size:1.12rem}
            .menu-toggle{display:flex}
            header img{height:46px}
        }
        @media(max-width:700px){header img{height:46px}.menu-panel{width:90vw}}
        main{padding-top:90px;max-width:1000px;margin:0 auto;padding-left:1rem;padding-right:1rem;box-sizing:border-box;padding-bottom:3rem}
        .container{display:flex;flex-wrap:wrap;gap:2.5rem;max-width:1200px;margin:2rem auto;background:none;justify-content:center}
        .calculator,.results{background:#22232c;color:#fff;border-radius:14px;box-shadow:0 1px 12px #040512;padding:2rem 2.5rem;min-width:340px;max-width:420px;flex:1 1 350px}
        @media(max-width:900px){.container{flex-direction:column;align-items:center;gap:1.5rem}.calculator,.results{max-width:97vw;min-width:340px}}
        h2{margin-top:0;text-align:left;font-weight:700;color:#b6befb;font-size:1.8rem;margin-bottom:1.2rem;letter-spacing:.015em}
        .form-group{margin-bottom:1.2rem}
        .form-label{font-size:1.05rem;font-weight:600;margin-bottom:.5rem;display:block;color:#c0c2d4}
        .form-row{display:flex;gap:1.2rem}
        @media(max-width:600px){.form-row{flex-direction:column;gap:0}}
        input[type="number"],select{width:100%;padding:.7rem 1rem;border-radius:7px;border:1px solid #34344e;background:#232330;color:#fff;font-size:1rem;font-family:'Fira Sans',Arial,sans-serif;font-weight:300;outline:none;margin-bottom:.4rem;transition:border .16s,background .16s;box-sizing:border-box}
        input:focus,select:focus{border:1.5px solid #2563eb;background:#2a2b36}
        input::placeholder{color:#8c92ac}
        select{cursor:pointer}
        .radio-group{display:flex;gap:.5rem;margin-bottom:.4rem;flex-wrap:wrap}
        .radio-btn{background:#2a2b36;border:2px solid #34344e;border-radius:7px;color:#fff;padding:.6rem 1.1rem;font-weight:600;font-size:1rem;cursor:pointer;transition:background .16s,color .16s,border .16s}
        .radio-btn.active{background:#2563eb;color:#fff;border-color:#2563eb}
        .results{background:#2a2b36;min-width:320px;max-width:500px}
        .result-title{font-size:1.4rem;margin-bottom:.9rem;font-weight:700;color:#b6befb}
        .result-row{display:flex;justify-content:space-between;font-size:1.05rem;margin-bottom:.6rem}
        .result-label{color:#c0c2d4}
        .result-value{font-weight:600;color:#fff}
        .total-amount{font-size:1.2rem;font-weight:600;color:#c0c2d4;margin-top:1.7rem;margin-bottom:2rem}
        .total-amount span{display:block;font-size:1.8rem;font-weight:700;color:#2563eb;margin-top:.5rem}
        .divider{border-top:1.6px solid #34344e;margin:1.1rem 0}
        #rentalSection{display:none;margin-top:1rem}
        .section-title{font-size:1.3rem;font-weight:700;color:#b6befb;margin-top:2rem;margin-bottom:1rem}
    </style>
</head>
<body>
    <header>
        <img src="https://raw.githubusercontent.com/Shaggyyyz/nestcapitalfinance-landing/refs/heads/main/NFCLogo1.png" alt="Nest Capital Finance" />
        <div class="menu-toggle" id="menuToggle" aria-label="Toggle menu" tabindex="0" aria-expanded="false">
            <span></span><span></span><span></span>
        </div>
        <nav id="menuPanel">
            <a href="index.html">Home</a>
            <a href="Services.html">Services</a>
            <a href="about.html">About</a>
            <a href="resources.html">Resources</a>
            <a href="contact.html">Contact</a>
        </nav>
    </header>
    
    <main>
         <div class="container">
            <div class="calculator">
                <h2>Equity Calculator</h2>
                <div class="form-group form-row">
                    <div style="flex:1">
                        <div class="form-label">Property value</div>
                        <input type="number" id="propertyValue" min="0" step="1000" value="750000" />
                    </div>
                </div>
                <div class="form-group form-row">
                    <div style="flex:1">
                        <div class="form-label">Current balance</div>
                        <input type="number" id="currentBalance" min="0" step="500" value="225000" />
                    </div>
                </div>
                <div class="form-group form-row">
                    <div style="flex:1">
                        <div class="form-label">Interest rate (%)</div>
                        <input type="number" id="interestRate" min="0" max="20" step="0.01" value="5.69" />
                    </div>
                    <div style="flex:1">
                        <div class="form-label">Loan term</div>
                        <select id="loanTerm">
                            <option value="30" selected>30 years</option>
                            <option value="25">25 years</option>
                            <option value="20">20 years</option>
                            <option value="15">15 years</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-label">Are you planning on renting out this property?</div>
                    <div class="radio-group">
                        <button class="radio-btn" id="rentalYes">Yes</button>
                        <button class="radio-btn active" id="rentalNo">No</button>
                    </div>
                </div>
                <div id="rentalSection">
                    <div class="form-group form-row">
                        <div style="flex:1">
                            <div class="form-label">Rental income (per week)</div>
                            <input type="number" id="rentalIncome" min="0" step="10" value="500" />
                        </div>
                    </div>
                </div>
            </div>
        
                    <div class="results">
                <div class="result-title">Your results</div>
                <div class="result-row">
                    <span class="result-label">Total equity</span>
                    <span class="result-value" id="totalEquity">$0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">Available funds (80% LVR)</span>
                    <span class="result-value" id="availableFunds">$0</span>
                </div>
                <div class="divider"></div>
                <div class="section-title">If you keep the property</div>
                <div class="result-row">
                    <span class="result-label">New balance</span>
                    <span class="result-value" id="newBalance">$0</span>
                </div>
                <div class="result-row">
                    <span class="result-label">Monthly repayments</span>
                    <span class="result-value" id="monthlyRepayment">$0</span>
                </div>
                <div class="result-row" id="rentalIncomeRow" style="display:none">
                    <span class="result-label">Monthly rental income</span>
                    <span class="result-value" id="monthlyRentalIncome">$0</span>
                </div>
            </div>
        </div>
    </main>

    </main>
    
    <script>
            <script>
        const menuToggle=document.getElementById('menuToggle');
        const menuPanel=document.getElementById('menuPanel');
        menuToggle.addEventListener('click',function(){menuToggle.classList.toggle('open');menuPanel.classList.toggle('open');menuToggle.setAttribute('aria-expanded',menuPanel.classList.contains('open'))});
        menuToggle.addEventListener('keydown',function(e){if((e.key==="Enter"||e.key===" ")){menuToggle.click()}});
        document.addEventListener('click',function(e){if((!menuPanel.contains(e.target)&&!menuToggle.contains(e.target))){menuPanel.classList.remove('open');menuToggle.classList.remove('open');menuToggle.setAttribute('aria-expanded','false')}});
        window.addEventListener('scroll',function(){if((window.scrollY>10)){document.querySelector('header').classList.add('scrolled')}else{document.querySelector('header').classList.remove('scrolled')}});

        
               const rentalYes = document.getElementById('rentalYes');
        const rentalNo = document.getElementById('rentalNo');
        const rentalSection = document.getElementById('rentalSection');
        const rentalIncomeRow = document.getElementById('rentalIncomeRow');
        let isRental = false;

        rentalYes.addEventListener('click', function() {
            rentalYes.classList.add('active');
            rentalNo.classList.remove('active');
            rentalSection.style.display = 'block';
            rentalIncomeRow.style.display = 'flex';
            isRental = true;
            calculate();
        });

        rentalNo.addEventListener('click', function() {
            rentalNo.classList.add('active');
            rentalYes.classList.remove('active');
            rentalSection.style.display = 'none';
            rentalIncomeRow.style.display = 'none';
            isRental = false;
            calculate();
        });

        
               function formatMoney(amt){return '$'+amt.toLocaleString(undefined,{maximumFractionDigits:0})}

        function calculate() {
            const pv = Number(document.getElementById('propertyValue').value) || 0;
            const currentBal = Number(document.getElementById('currentBalance').value) || 0;
            const rate = Number(document.getElementById('interestRate').value) || 0;
            const term = Number(document.getElementById('loanTerm').value) || 30;
            const rental = Number(document.getElementById('rentalIncome').value) || 0;

            const totalEquity = pv - currentBal;
            const maxLoan = pv * 0.80;
            const availableFunds = Math.max(0, maxLoan - currentBal);
            const newBalance = currentBal + availableFunds;
            
            const monthlyRate = rate / 100 / 12;
            const numPayments = term * 12;
            let monthlyRepayment = 0;
            
            if (monthlyRate > 0 && newBalance > 0) {
                monthlyRepayment = newBalance * (monthlyRate * Math.pow(1 + monthlyRate, numPayments)) / (Math.pow(1 + monthlyRate, numPayments) - 1);
            } else if (newBalance > 0) {
                monthlyRepayment = newBalance / numPayments;
            }

        
                    const monthlyRental = (rental * 52) / 12;

            document.getElementById('totalEquity').textContent = formatMoney(totalEquity);
            document.getElementById('availableFunds').textContent = formatMoney(availableFunds);
            document.getElementById('newBalance').textContent = formatMoney(newBalance);
            document.getElementById('monthlyRepayment').textContent = formatMoney(monthlyRepayment);
            document.getElementById('monthlyRentalIncome').textContent = formatMoney(monthlyRental);
        }

        document.getElementById('propertyValue').addEventListener('input', calculate);
        document.getElementById('currentBalance').addEventListener('input', calculate);
        document.getElementById('interestRate').addEventListener('input', calculate);
        document.getElementById('loanTerm').addEventListener('change', calculate);
        document.getElementById('rentalIncome').addEventListener('input', calculate);

        calculate();
    </script>
</body>
</html>
